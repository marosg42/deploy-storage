series: bionic
machines:
  "0":
    constraints: tags=ceph-lum
    series: bionic
  "1":
    constraints: tags=ceph-lum
    series: bionic
  "2":
    constraints: tags=ceph-lum
    series: bionic
  "3":
    constraints: tags=ceph-lum
    series: bionic
  "4":
    constraints: tags=ceph-lum
    series: bionic
  "5":
    constraints: tags=ceph-lum
    series: bionic
applications:
  ceph-mon-lum:
    charm: cs:bionic/ceph-mon
    num_units: 3
    to:
    - lxd:0
    - lxd:1
    - lxd:2
  ceph-osd-lum:
    charm: cs:bionic/ceph-osd
    num_units: 6
    options:
      osd-devices: /dev/sdb /dev/sdc /dev/sdd /dev/sde /dev/sdf
      autotune: true
      aa-profile-mode: complain
    to:
    - 0
    - 1
    - 2
    - 3
    - 4
    - 5
  ceph-radosgw-lum:
    charm: cs:bionic/ceph-radosgw
    num_units: 3
    options:
      vip: "192.168.110.10"
      restrict-ceph-pools: False
    to:
    - lxd:3
    - lxd:4
    - lxd:5
  hacluster-radosgw-lum:
    charm: cs:bionic/hacluster
relations:
  - [ ceph-osd-lum, ceph-mon-lum ]
  - [ ceph-radosgw-lum, ceph-mon-lum ]
  - [ ceph-radosgw-lum, hacluster-radosgw-lum ]
